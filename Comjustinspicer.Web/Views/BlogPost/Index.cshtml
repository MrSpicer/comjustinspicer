@model comjustinspicer.Models.Blog.PostViewModel?

@{
    if (Model == null)
    {
        <div class="section">
            <div class="container">
                <div class="notification is-warning">Post not found.</div>
            </div>
        </div>
        return;
    }

    var isAuthor = User?.Identity?.IsAuthenticated == true && (User.IsInRole("Admin") || User.IsInRole("Editor"));

    ViewData["Title"] = Model.Title;
}

<section class="section">
    <div class="container content">
        <div class="box">
            <p class="title">@Model.Title</p>
            <p class="subtitle">@Model.PublicationDate.ToString("MMMM dd, yyyy")</p>
            <hr />
            @Html.Raw(Model.Body)
        </div>

            <p class="is-size-7 has-text-grey">Last Modified: @Model.ModificationDate.ToString("yyyy-MM-dd HH:mm")</p>

            <div class="mt-4">
                <a asp-action="Index" asp-controller="Blog" class="button is-light">Back to blog</a>
                @if (isAuthor)
                {
                    <a asp-action="Edit" asp-controller="BlogPost" asp-route-id="@Model.Id"
                        class="button is-primary">Edit</a>
                }
            </div>
        </div>
</section>